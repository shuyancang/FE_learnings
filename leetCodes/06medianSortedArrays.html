<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>


  <script>
    var mergeArr = function(left, right){ // 有序数组合并
      let sortedArr = [];
      let leftI = 0; rightI = 0;
      while(left[leftI] || right[rightI]){
        let leftNum = left[leftI], rightNum = right[rightI];
        if (leftNum && rightNum) {
          if(leftNum <= rightNum){
            sortedArr.push(leftNum);
            leftI++;
          } else {
            sortedArr.push(rightNum);
            rightI++;
          }
        } else if (leftNum){
          sortedArr.push(leftNum);
          leftI++;
        } else {
          sortedArr.push(rightNum);
          rightI++;
        }
      }
      return sortedArr;
    }

    var mergerFunc = function(arr){ // 回忆一下归并排序(递归实现)
      const len = arr.length;
      const mid = Math.ceil(len / 2);
      if (arr.length <= 1) {
        return arr;
      }
      let left = [], right = [];
      for(let i = 0; i < mid; i++){
        left.push(arr[i]);
        arr[mid + i] && right.push(arr[mid + i]);
      }
      return mergeArr(mergerFunc(left), mergerFunc(right));
    }

    var mergeWhileFunc = function(arr){ // while方法实现归并排序: 
      const len = arr.length;
      const mid = Math.ceil(len / 2);
      if (arr.length <= 1) {
        return arr;
      }
      let newArr = [];
      for(let i = 0; i < len; i++){
        newArr.push([arr[i]]);
      } // 直接分解, 逆向归并
      while(newArr.length > 1){
        const tmpLen = newArr.length;
        const mid = Math.ceil(tmpLen / 2); // 0 => 1.2, 1 => 3, 4, ; 2 => 5
        for(let i = 0; i < mid; i++) {
          let tmpCeil = [];
          let leftArr = newArr[2 * i];
          let rigthArr = newArr[2 * i + 1];
          let leftIndex = 0; rightIndex = 0;
          while ((leftArr && leftArr[leftIndex]) || (rigthArr && rigthArr[rightIndex])) {
            if(!leftArr || !leftArr[leftIndex]){
              tmpCeil.push(rigthArr[rightIndex]);
              rightIndex++;
            } else if (!rigthArr || !rigthArr[rightIndex]) {
              tmpCeil.push(leftArr[leftIndex]);
              leftIndex++;
            } else if (leftArr[leftIndex] < rigthArr[rightIndex]) {
              tmpCeil.push(leftArr[leftIndex]);
              leftIndex++;
            } else {
              tmpCeil.push(rigthArr[rightIndex]);
              rightIndex++;
            }
          }
          newArr[i] = tmpCeil;
        }
        newArr.length = Math.ceil(tmpLen / 2);
      }
      return newArr[0];
    }

    var findMedianSortedArrays = function(nums1, nums2){
      
    }
    // [1, 2, 3]
    // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    var findNum = function(aArr, bArr, orderNum){ // 找到有序数组aArr, bArr中, 第小的数;
      var aIndex = 0, bIndex = 0, recordNum = 0, aLen = aArr.length ,bLen = bArr.length;
      var halfNum = Math.floor(orderNum / 2);
      while(recordNum < orderNum) {
        var aNum = aArr[halfNum + aIndex - 1], bNum = bArr[halfNum + bIndex - 1];
        if (aNum === undefined) {
          if (aIndex === aLen - 1) { // aArr已经数完
            return bArr[orderNum - recordNum - 1];
          } else {
            halfNum = aLen - aIndex;
            aNum = aArr[halfNum + aIndex - 1];
            bNum = bArr[halfNum + bIndex - 1];
          }
        } else if (bNum === undefined) {
          if (bIndex === bLen - 1) { // bArr已经数完
            return aArr[orderNum - recordNum - 1];
          } else {
            halfNum = bLen - bIndex;
            aNum = aArr[halfNum + aIndex - 1];
            bNum = bArr[halfNum + bIndex - 1];
          }
        }
        if (aNum <= bNum) {
          aIndex += halfNum;
        } else {
          bIndex += halfNum;
        }
        recordNum += halfNum;
        halfNum = Math.floor(orderNum - recordNum) / 2;
        if (halfNum === 0) {
          halfNum = 1;
        }
      }
      var aNum = aArr[aIndex + 1], bNum = bArr[bIndex + 1];
      if (aNum === undefined) {
        return bNum;
      } else if (bNum === undefined) {
        return aNum;
      }
      return Math.min(aNum, bNum);
    }
  </script>
</body>
</html>