<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 如何设计状态树

    /*
      1. 状态树
        redux中的store，数据存储的地方；对store的设计与规范就是状态树的设计
        状态树的背后常有一套思想支持，即normalize(数据标准化)
      2. 状态树的理解及必要性
        算法角度: 无设计的层层嵌套数据结构会导致整体开发效率极低, 好的状态树会让数据的处理轻松
        理解角度: 项目数据简易时必要性不大, 但复杂时, 会导致使用state的数据结构难以理解, 嵌套复杂
        维护角度: 维护性, 数据的抽离与单独管理, 便于维护.
      3. 如何设计状态树
        不可求完美, 不执着于一步登天。
        分离, 耦合, 复杂度等，都需要考虑。有时候理解和设计相悖，有时候理解和复杂度相悖，需要均衡。
      4. state的范式化
        实际上，大部分数据都是嵌套或相互关联的，需要关注一些问题：
          数据需要更新时，确保关联数据更新；
          嵌套的数据意味着嵌套的逻辑，处理复杂度更高；
          不可变的数据在更新需要进行复制和更新，会导致ui组件的重复render
        因此管理关系数据或嵌套数据推荐做法是将其视为数据库按范式化储存。

        范式化数据：
          任何类型的数据在state中都有自己的“表”
          任何“数据表”应将各个项目存储在对象中，每个项目的id作为key，项目本身作为value
          任何对单个项目的引用阴根据存储项目的id来完成
          id数组应该用于排序
        这样的state在结构上更加扁平，利于理解。保持范式化的state在性能提高方面很关键。
    
        组织state中的范式化数据：这样可以通过多种方式进行拓展。

        表间关系

        嵌套数据范式化(Normalizr库)


    
    
    
    */
  </script>
</body>
</html>