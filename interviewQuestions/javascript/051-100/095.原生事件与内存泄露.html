<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 添加原生事件不移除为什么会导致内存泄露, 还有哪些地方会存在内存泄露
    /*
      1. 元素添加事件处理器, 处理器中使用的是对button的引用, 无法检测dom节点与js之间的循环引用, 从而可能导致内存泄漏
      2. 现代浏览器使用了更优秀的垃圾回收算法, 已经可以检测和处理循环引用了。回收节点内存时, 不一定非要调用removeEventListenter
      3. 其他可能的导致内存泄露的
        a. 意外的全局变量(存储大量数据, => 需用完后设置为null或从定义, 与全局变量相关的增加内存消耗的一个主因是缓存, 缓存是为了重用必须有一个上下限)
        b. 定时器未被注销(被遗忘), 尽管定时器和内部回调不再需要, 但定时器并没有被回收, 如果存储大量数据或引用, 会导致泄露
        c. 脱离了dom的引用(保存dom的引用, 将dom从html删除后, 没有将引用赋值为null, 该dom就不会被GC回收)
        d. 闭包, 含有外部活动的函数对象, 无法被GC回收。
    */
  </script>
</body>
</html>