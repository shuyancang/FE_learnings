

# 设计AutoComplete组件(搜索组件, 自动补全组件)时, 需要考虑什么问题

* 1. 组件功能描述: input输入text, 查询含有text的所有信息列表并弹出, 供用户选择;
* 2. 相关数据: value(输出选中项-或values); datasource(如果所有信息存前端, 数据源); datalist(满足搜索条件的信息列表)
* 3. 相关交互: onchang(input框输入信息变化时的回调); onselect(选中条件时触发的回调); onclear(清除选中信息);
* 4. 其他可配置参数: multiple(是否多选组件); classnames(可输入自定义覆盖样式); listconfig(满足搜索条件的配置信息-条数, 无数据提示信息等)

* 基于以上涉及内容, 涉及组件时需要考虑问题如下: 
*******************
1. 组件应设计考虑单选/多选模式, 两种模式所接受的输入, 输出相似但完全不同; 多选模式选中后应考虑清除所选项, 已选项友好提示(下拉内容高亮, 已选22/33)等, 单选模式应考虑选中后自动收起弹框;
2. 输入的字符触发onchange频率过高, 影响渲染效率及性能, 在onchange时, 需考虑添加防抖;
3. 输入字符搜索时, 在产品设计中, 若明确数据源, 且不涉及过多关联信息, 可以预加载datasource每次前端进行搜索-速度快体验好, 但若数据源大小需依赖数据库或涉及信息较大应onchange时发起请求, 直接获取datalist, 且请求时间过长(若有)添加loading效果进行搜索中提示;
4. 插件的更友好的公用性: classnames的默认与覆盖, listconfig的允许个性化配置等等;
*******************














